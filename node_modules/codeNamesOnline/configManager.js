'use strict';
//==============================================================================
//  Modules
//==============================================================================

var path     = require('path');
var nconf    = require('nconf');
var validate = require('validate.js');

//==============================================================================
//  Constants
//==============================================================================

var CONFIG_PATH = path.join(__dirname, '../../config.json');

//==============================================================================
//  Public functions
//==============================================================================

/*  public object LoadConfig(config)
 *
 *  Loads settings from config.json file.
 *
 *  @param {String} config - setting to load
 *
 *  @return {?} object or single value from config file
 */
module.exports.LoadConfig = function (config) {

	nconf
	.argv()
	.env()
	.file('configuration', CONFIG_PATH);

	var configuration = nconf.get(config);

	if (!validate.isDefined(configuration)) {
		throw new Error('Failed to load \'' + config + '\' from config file');
	}

	return configuration;
}; 
